<div ng-controller="IndexCtrl">

    <div class="row" ng-show="USER === null && competitions !== null && competitions.length === 0">
        <div class="col-xs-12 col-md-offset-3 col-md-6">
            <h4>Hmmmm...Looks pretty empty in here. </h4>
        </div>
    </div>

    <div ng-show="competitions === null" class="text-center">
        <i class="fa fa-spinner fa-spin fa-4x"></i>
    </div>

    <!-- Table of competitions -->
    <div class="row" ng-if="competitions !== null">
        <div class="col-xs-12 col-md-offset-3 col-md-6">
            <div ng-repeat="comp in filtered = (competitions | filter:searchText) | orderBy:'endDate' | startFrom:(currentPage - 1)*pageSize | limitTo:pageSize"
                 ng-click="showCompetition(comp.uniname)">
                <h3>{{ comp.name }}</h3>
                <p>{{ comp.summary }}</p>
                <p>{{ comp.location }}</p>
                <p>{{ comp.startDate | date:'F' }} - {{ comp.endDate | date:'F' }}</p>
            </div>
            <div class="text-center" ng-show="filtered.length > pageSize">
                <pagination direction-links="true" total-items="filtered.length" rotate="false" max-size="maxSize"
                            items-per-page="pageSize" page="currentPage"></pagination>
            </div>
        </div>
    </div>
</div>